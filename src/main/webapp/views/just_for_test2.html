<!DOCTYPE html>
<html >
<head>
    
    <link rel="stylesheet" href="dijit/themes/claro/claro.css">
    
	<script>dojoConfig = {async: true}</script>
	<script src='dojo/dojo.js'></script>
	
	<script>
require([
    "dojo/_base/window", "dojo/store/Memory",
    "dijit/tree/ObjectStoreModel", "dijit/Tree",
    "dojo/domReady!"
], function(win, Memory, ObjectStoreModel, Tree){

    // Create test store, adding the getChildren() method required by ObjectStoreModel
    var myStore = new Memory({
        data: [
            { id: 'root', name:'root', type:'root'},
                { id: 'structure', name:'Structure', type:'structure', parent: 'root'},
                { id: 'orgs', name:'Organisations', type:'orgs', parent: 'structure'},
                    { id: 'subvisions', name:'Subvisions', type:'subvisions', parent: 'orgs'},
                        { id: 'empls', name:'Employees', type:'empls', parent: 'subvisions' },
                { id: 'messages', name:'Messages', type:'messages', parent: 'root'},
                    { id: 'allMsgs', name:'All messages', type:'allMsgs', parent: 'messages'},
                    { id: 'myMsgs', name:'My messages', type:'myMsgs', parent: 'messages'},
                    { id: 'msgsForMe', name:'Messages for me', type:'msgsForMe', parent: 'messages'}
        ],
        getChildren: function(object){
            return this.query({parent: object.id});
        }
    });

    // Create the model
    var myModel = new ObjectStoreModel({
        store: myStore,
        query: {id: 'root'}
    });
    
    require(["dojo"]);
    
    var div = dojo.byId("abc"); 
    
    // Create the Tree.
    var tree = new Tree({
        model: myModel,
        showRoot: false,
        _createTreeNode: function (args) {
            var node = new dijit._TreeNode(args);
            console.log(node);
            return node;
        }
    });
    tree.placeAt(div);
    tree.startup();
    
    
});
	</script>
</head>
<body class="claro">
    <div id="abc">asdasd</div>
</body>
</html>